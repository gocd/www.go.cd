<!doctype html>
<html>
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" />
    <meta content="This post chronicles the ThoughtWorks-Delta mobile app development team’s journey to continuous delivery, the challenges along the way and how they overcame them." name="description" />
    <meta content="trunk based development, feature toggles, feature flags, continuous integration, deployment pipeline" name="keywords" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@goforcd" />
    <meta name="twitter:title" content="Architecting for Continuous Delivery | GoCD Blog" />
    <meta name="twitter:description" content="This post chronicles the ThoughtWorks-Delta mobile app development team’s journey to continuous delivery, the challenges along the way and how they overcame them." />
    <meta name="twitter:image" content="https://www.gocd.org/assets/images/blog/architecting-continuous-delivery/architecting-continuous-delivery-hero-25ac88c4.jpg" />
    <link rel="canonical" href="https://www.gocd.org/2017/10/17/delta-airlines-mobile-app-continuous-delivery-gocd" />

    <title>Architecting for Continuous Delivery | GoCD Blog</title>
    <link href="../../../../assets/images/favicon.ico" rel="shortcut icon" />
    <link href="../../../../assets/stylesheets/site-fbc1c739.css" rel="stylesheet" />
    <script src="../../../../assets/javascripts/all-210c97c4.js"></script>
    
    <link rel="alternate" type="application/atom+xml" title="GoCD blog feed" href="../../../../feed.xml" />
    <script>
      $(document).ready(function(){
    $('.chocolat-parent').Chocolat();
});
    </script>

  </head>

  <body class="x2017 x2017_10 x2017_10_17 x2017_10_17_delta-airlines-mobile-app-continuous-delivery-gocd x2017_10_17_delta-airlines-mobile-app-continuous-delivery-gocd_index">
    <header class="top">
  <div class="container">
    <a href="../../../../" class="logo" analytics-label="logo"><img src="../../../../assets/images/go_logo-5b5ca9e1.svg" title="GoCD Logo" alt="GoCD Logo" /></a>
    <nav class="mainnav">
      <ul class="level0">
        <li class="dropdown">
          <a href="../../../../why-gocd/" class="link_whygocd" analytics-label="link_whygocd">Why GoCD?</a>
        </li>
        <li class="dropdown">
          <a href="../../../../contribute/" class="toplink_contribute" analytics-label="link_community">Community</a>
          <ul  class="level1">
            <li><a href="../../../../contribute/" class="link_contribute" analytics-label="link_community&gt;link_contribute">Contribute</a></li>
            <li><a href="../../../../events/" class="link_events" analytics-label="link_community&gt;link_events">Events</a></li>
            <li><a href="../../../../plugins/" class="link_plugins" analytics-label="link_community&gt;link_plugins">Plugins</a></li>
          </ul>
        </li>
        <li><a href="../../../../blog/" class="link_blog" analytics-label="Blog">Blog</a></li>
        <li class="dropdown">
          <a href="../../../../help/" class="toplink_help" analytics-label="link_help">Help</a>
          <ul  class="level1">
            <li><a href="../../../../help/" class="getting-started" analytics-label="link_help&gt;link_getting_started">Getting started</a></li>
            <li><a href="https://docs.gocd.org/current/" target="_blank" analytics-label="link_help&gt;link_documentation">Documentation</a></li>
            <li><a href="../../../../resources.html" class="link_resources" analytics-label="link_help&gt;link_resources">Resources</a></li>
          </ul>
        </li>
        <li><a href="../../../../download/" class="link_download" analytics-label="link_help&gt;link_download">Download</a></li>
        <li><a href="https://www.thoughtworks.com/go" class="link_support" target="_blank" analytics-label="link_support">Get Support</a></li>
      </ul>
    </nav>
    <button class="navbtn menu collapse">
    <span></span>
    </button>
  </div>
</header>
<span id="top"></span>
<a href="http://github.com/gocd" class="github-fork-ribbon" target="_blank" analytics-label="link_header_fork&gt;link_download" title="Fork me on GitHub">Fork me on GitHub</a>

    <div class="container blog-post">


  



  <div class="row">
    <div class="col-md-9">

    <div class="post-banner">
      <figure>
  <img src="../../../../assets/images/blog/architecting-continuous-delivery/architecting-continuous-delivery-hero-25ac88c4.jpg" alt="Architecting for Continuous Delivery"/>
</figure>

    </div>


  <header class="blog-post-header">
    <h1>Continuous Delivery for Mobile Development - Our learnings at Delta Air Lines</h1>
    <h4>Sanchit Bahal</h4>
    <p class='tags'>
     </p>
  </header>

      <main id="main" role="main" class="blog-post-main-container">
      
<p>As a Principal Consultant for ThoughtWorks, I had the opportunity to work with Delta Air Lines to build their <a href="https://www.thoughtworks.com/clients/delta">consumer facing mobile application</a>. My role was to ensure that the application was technically sound and remove any roadblocks for the team. During my stint on the project, one of our challenges was to help the entire team adopt continuous delivery. We had a team of approximately 80 people distributed over two locations. This post chronicles our journey to continuous delivery, the challenges along the way, and how we overcame them.</p>

<h2 id="how-we-overcame-challenges-on-the-road-to-continuous-delivery">How we overcame challenges on the road to Continuous Delivery</h2>

<h3 id="replaced-error-prone-testing-process-with-automation">1. Replaced error-prone testing process with automation</h3>

<p>The number one challenge with mobile app development is infrastructure. We had to run simulations of tests on different environments, the primary among them being a Mac OS (for the iOS app). At first, we did this manually over two days time, and obviously it was error prone: sometimes we forgot something or installed the wrong version. To resolve these issues, we created an image with a vanilla Mac OS environment that included all the software relevant to our tests. We called this our “<strong>golden image</strong>”.  At any time, if anything failed, or there was an issue, we just restored it to “the golden image”. We had a lot of snowflakes so having a golden image helped us eliminate all that.</p>

<h3 id="ended-merge-nightmares-with-feature-toggles-and-trunk-based-development">2. Ended merge nightmares with feature toggles and trunk based development</h3>

<p>Before I joined this project, the team were doing feature branches, which caused a lot of strain. This worsened when the team size grew and started expanding to a team distributed between two cities. Every time we merged a feature branch, it took a lot of effort and would halt everyone for a day or two before things went back to schedule.</p>

<p>Making matters worse, we never ran continuous integration on these feature branches, we only had CI on our master. A branch where the code was getting pushed almost daily generally lived three to four months without continuous integration. People were doing their due diligence to make sure they'd merge master back into the feature branch to keep the code up to date, but that was never enough. We had eight feature teams in two locations; it was inevitable that people would cross paths.</p>

<p>Another deeper problem caused by long-lived feature branches is that our team started becoming hesitant to do any re-factoring. When you know that the merge is going to be very difficult, people shy away from re-factoring even knowing that things are in bad shape. That meant that a huge amount of technical debt started accumulating.</p>

<p>After moving to  feature toggles and trunk-based development,  some of these challenges just went away. With every commit we are basically ensuring that we have a working product - which includes all our pipelines, all our unit tests, integration tests, smoke tests, etc. going green. So the level of confidence that the developers now have when pushing any piece of code is very high.</p>

<h3 id="took-advantage-of-a-good-continuous-delivery-tool">3. Took advantage of a good continuous delivery tool</h3>

<h4 id="customization-and-the-ability-to-orchestrate">Customization and the ability to orchestrate</h4>

<p>Before we could start leveraging our CD tool, we had to make sure that we were able to automate and continuously integrate. A CD tool can only take you so far. That said, we found the pipelines in GoCD really powerful as a first class concept. Once we got the concepts of pipelines, stages, jobs, etc. we used GoCD to our advantage to build custom workflows and were able to define what CI/CD looked like for us.</p>

<h4 id="traceability">Traceability</h4>

<p>Picking a tool that gives advanced traceability can save you a lot of time and agony. Recently, there was an issue that required us to make a <a href="../../../06/20/hotfixes-rollback-rollforward.html">hotfix</a> . Due to an error, the wrong git material was picked for the release pipeline. This resulted in the wrong artifact being produced and so there were random failures all over. What really helped us then, were the <a href="https://docs.gocd.org/current/configuration/build_labelling.html">GoCD labels</a>. This seemingly tiny piece of information on our pipeline helped us figure out what we were using the wrong branch!</p>

<p><img src="../../../../assets/images/blog/delta-gocd/gocd-labels-601cf430.png" alt="GoCD Labels" /></p>

<p>It’s not uncommon for these types of incidents to happen in projects, and without a tool that offers traceability, it would take a lot of effort to troubleshoot. I couldn’t imagine the team being able to function if we removed GoCD from our processes.</p>

<h3 id="the-impact-of-these-changes">The impact of these changes</h3>

<blockquote>
  <p>Honestly, the best thing after adopting continuous delivery is that we move much faster than before and with confidence.</p>
</blockquote>

<p>The machine provisioning time reduced from two days to less than 30 minutes. The build waiting time and the time to get a build agent assigned to do the job, reduced from 6 hours to less than 10 seconds. What’s impactful is that less waiting means developers can focus without wasteful interruption. We have a big boost on team productivity. A positive change that we cannot really quantify was the effect on our culture! Our team was proactive about change. Continuous integration and automation became the new normal and we look at tech debt responsibly.</p>

<p>After these improvements,  we wanted to go a bit further and find ways to improve our delivery process. We felt the need to have continuous monitoring or continuous feedback to keep understanding what needs to be fixed in our deployment cycle. This is the only place that I felt that tools like GoCD need to evolve. The idea was to get some reporting and actionable insights into our deployment cycle so we as a team can make changes as we go. Eventually, we built a custom analytics module suited for our application that we could draw insights from.</p>

<hr />

<p>In my experience, continuous delivery is not an end or a goal - there’s no definite point in software development when you can say that now you are “doing CD”. But from where we started, the benefits we experienced using CD practices have been immeasurable. It can be a challenge in the beginning, but if you stick by it, it hugely improves not just the quality of code that gets delivered but the quality of the team as well.</p>

<p><em><a href="https://github.com/sbahal">Sanchit Bahal</a> is a Lead Technical Consultant with ThoughtWorks and has over 14 years of experience in building complex enterprise applications. He loves using devops practices and principles to build high performing delivery teams.</em></p>

      </main>
    </div>
    <div class="col-md-3">
      <aside class="post-sidebar">
        <section  class="recent-ariticles">
          <section class='post'>
            <div class='subscribe-to-blog blogpost'>
   <h3 class='subscribe-title'> Subscribe to The Pipeline</h3>
   <p style="font-size:12px; font-weight:300">Continuous Delivery news in your inbox</p>
    <div id="subscribe-info">
      Send us a mail to <a href="mailto:support@thoughtworks.com?subject=Sign%20me%20up%20for%20GoCD%20blog%20notifications">support@thoughtworks.com</a> and we will sign you up for a notification on new blog posts.
    </div>
    <script type="text/javascript">
      function initMarketoForm() {
        jQuery("#subscribe-info").html("<form id='mktoForm_5414'></form>");
        MktoForms2.loadForm("//app-e.marketo.com", "199-QDE-291", 5414);
      }
    </script>
    <script async="true" src="//app-e.marketo.com/js/forms2/js/forms2.min.js" onload="initMarketoForm()"></script>
</div>

          </section>
          <h2 class="section-title">Recent Articles</h2>
          <ol>
            <li>
              <span class="post-date">Oct 10</span>
              <span class="post-author">Vishal Naik</span>
              <a href="../../10/architecting-continuous-delivery/">Architecting for Continuous Delivery - Themes in CD Enablement</a>
            </li>
            <li>
              <span class="post-date">Oct  3</span>
              <span class="post-author">Ken Mugrage</span>
              <a href="../../03/introduction-continuous-delivery-deployment-tools/">Part 5 - CD101: Common Tools for Continuous Delivery</a>
            </li>
            <li>
              <span class="post-date">Sep 26</span>
              <span class="post-author">Aravind SV</span>
              <a href="../../../09/26/are-you-ready-for-continuous-delivery-infographic/">Infographic - Are you ready for Continuous Delivery</a>
            </li>
            <li>
              <span class="post-date">Sep 19</span>
              <span class="post-author">Ken Mugrage</span>
              <a href="../../../09/19/actions-spread-devops-adoption/">Part 3 - You can’t buy DevOps, but you may need to sell it: Actions to spread DevOps Adoption</a>
            </li>
            <li>
              <span class="post-date">Sep 12</span>
              <span class="post-author">Ken Mugrage</span>
              <a href="../../../09/12/value-stream-mapping/">Part 4 - CD101: Getting Started with Value Stream Mapping</a>
            </li>
          </ol>
        </section>
        <section>
          <h2 class="section-title">By Year</h2>
          <ol>
            <li><a href="../../../">2017 (33)</a></li>
            <li><a href="../../../../2016/">2016 (8)</a></li>
            <li><a href="../../../../2015/">2015 (21)</a></li>
            <li><a href="../../../../2014/">2014 (26)</a></li>
          </ol>
        </section>

      </aside>
    </div>
  </div>

  <div class="row">
    <div class="col-md-9">
      <div id="disqus_thread"></div>
      <script>
        var disqus_config = function () {
          /* Careful: Changing the value of page.url and page.identifier might mean you lose comments. */
          this.page.url = "https://www.go.cd/2017/10/17/delta-airlines-mobile-app-continuous-delivery-gocd.html";
          this.page.identifier = this.page.url;
          this.shortname = 'gocdblog';
        };
        (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//gocdblog.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>
  </div>
</div>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-571784c91d5449dd"></script>

    <footer>
  <div class="join-community">
    <div class="container">
      <h3>Join our community</h3>
      <ul>
        <li>
          <a href="https://groups.google.com/forum/#!forum/go-cd" target="_blank" analytics-label="google-group">
            <i class="icon fa fa-users fa-4x join-us" aria-hidden="true"></i>
            Join our discussion forum
          </a>
        </li>
        <li>
          <a href="https://gitter.im/gocd/gocd" target="_blank" analytics-label="gitter">
            <i class="icon fa fa-comments fa-4x develop-with-us" aria-hidden="true"></i>
           Chat with us
          </a>
        </li>
        <li>
          <a href="https://github.com/gocd/gocd" target="_blank" analytics-label="github">
            <i class="icon fa fa-github fa-4x watch-us" aria-hidden="true"></i>
            watch us
          </a>
        </li>
        <li>
          <a href="https://twitter.com/goforcd" target="_blank" analytics-label="twitter">
            <i class="icon fa fa-twitter fa-4x follow-us" aria-hidden="true"></i>
            follow us
          </a>
        </li>
        
        <li>
        <a href="../../../../subscribe/"><i class= 'icon fa fa-envelope fa-4x subscribe' aria-hidden='true'></i>subscribe</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="page-footer">
    <div class="container">
      <div class="foo-content">
        <p>
          GoCD is an open-source project, sponsored by <a target="_blank" href="http://www.thoughtworks.com" analytics-label="link_footer_thoughtworks">ThoughtWorks Inc.</a>
          under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" title="Apache 2.0 License">Apache License, Version 2.0</a>
        </p>
        <h5 class="help-us-improve">Make this place better</h5>
        <a href="http://github.com/gocd" class="social-buttons" analytics-label="link_footer_fork"><i class="fa fa-code-fork" aria-hidden="true" target="_blank"></i> fork</a>
        <a href="https://github.com/gocd/www.go.cd/issues"  class="social-buttons" analytics-label="link_footer_github_issues"> <i class="fa fa-github" aria-hidden="true"></i> suggest</a>

        <p><a href="https://brandfolder.com/twproducts" target="_blank">Logos and brand guidelines</a></p>
      </div>
    </div>
  </div>
</footer>

    <div class='imagemodal'>
      <div class='imagemodalcontent'>
      </div>
      <div class='close'>&#10006;
      </div>
    </div>

  </body>
  <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5T5PTB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>
// <![CDATA[
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5T5PTB');
// ]]>
</script>
<!-- End Google Tag Manager -->

<!-- Marketo async-->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('199-QDE-291');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End Marketo async-->

<!-- Twitter universal website tag code -->
<script>
!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
// Insert Twitter Pixel ID and Standard Event data below
twq('init','nw15k');
twq('track','PageView');
</script>
<!-- End Twitter universal website tag code -->

</html>
