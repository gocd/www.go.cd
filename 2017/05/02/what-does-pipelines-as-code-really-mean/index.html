<!doctype html>
<html>
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" />
    <meta content="There has been increasing interest in defining builds and pipelines as code. We see a rise in the assumption that defining pipelines as code requires the use of a full programming language. This post will  break down how we got to build and pipelines as code and challenge some of the assumptions." name="description" />
    <meta content="GoCD, Pipelines as Code, Infrastructure as Code, continuous delivery, goforcd, open source, software, contribute to open source, agile continuous delivery, code contribution, Go" name="keywords" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@goforcd" />
    <meta name="twitter:title" content="What Does Pipelines as Code Really Mean | GoCD Blog" />
    <meta name="twitter:description" content="There has been increasing interest in defining builds and pipelines as code. We see a rise in the assumption that defining pipelines as code requires the use of a full programming language. This post will  break down how we got to build and pipelines as code and challenge some of the assumptions." />
    <meta name="twitter:image" content="https://www.gocd.io/assets/images/blog/pipelines-as-code/pipelines-as-code-hero-a3209f2b.jpg" />

    <title>What Does Pipelines as Code Really Mean | GoCD Blog</title>
    <link href="../../../../assets/images/favicon.ico" rel="shortcut icon" />
    <link href="../../../../assets/stylesheets/site-4d3e4e1b.css" rel="stylesheet" />
    <script src="../../../../assets/javascripts/all-240a21c3.js"></script>
    
    <link rel="alternate" type="application/atom+xml" title="GoCD blog feed" href="../../../../feed.xml" />
  </head>

  <body class="x2017 x2017_05 x2017_05_02 x2017_05_02_what-does-pipelines-as-code-really-mean x2017_05_02_what-does-pipelines-as-code-really-mean_index">
    <header class="top">
  <div class="container">
    <a href="../../../../" class="logo" analytics-label="logo"><img src="../../../../assets/images/go_logo-5b5ca9e1.svg" title="GoCD Logo" alt="GoCD Logo" /></a>
    <nav class="mainnav">
      <ul class="level0">
        <li class="dropdown">
          <a href="../../../../why-gocd/" class="link_whygocd" analytics-label="link_whygocd">Why GoCD?</a>
        </li>
        <li class="dropdown">
          <a href="../../../../contribute/" class="toplink_contribute" analytics-label="link_community">Community</a>
          <ul  class="level1">
            <li><a href="../../../../contribute/" class="link_contribute" analytics-label="link_community&gt;link_contribute">Contribute</a></li>
            <li><a href="../../../../events/" class="link_events" analytics-label="link_community&gt;link_events">Events</a></li>
            <li><a href="../../../../plugins/" class="link_plugins" analytics-label="link_community&gt;link_plugins">Plugins</a></li>
          </ul>
        </li>
        <li><a href="../../../../blog/" class="link_blog" analytics-label="Blog">Blog</a></li>
        <li class="dropdown">
          <a href="../../../../help/" class="toplink_help" analytics-label="link_help">Help</a>
          <ul  class="level1">
            <li><a href="../../../../help/" class="getting-started" analytics-label="link_help&gt;link_getting_started">Getting started</a></li>
            <li><a href="https://docs.gocd.io/current/" target="_blank" analytics-label="link_help&gt;link_documentation">Documentation</a></li>
            <li><a href="../../../../resources.html" class="link_resources" analytics-label="link_help&gt;link_resources">Resources</a></li>
          </ul>
        </li>
        <li><a href="../../../../download/" class="link_download" analytics-label="link_help&gt;link_download">Download</a></li>
        <li><a href="https://www.thoughtworks.com/go" class="link_support" target="_blank" analytics-label="link_support">Get Support</a></li>
      </ul>
    </nav>
    <button class="navbtn menu collapse">
    <span></span>
    </button>
  </div>
</header>
<span id="top"></span>
<a href="http://github.com/gocd" class="github-fork-ribbon" target="_blank" analytics-label="link_header_fork&gt;link_download" title="Fork me on GitHub">Fork me on GitHub</a>

    <div class="container blog-post">
    <div class="post-banner">
      <figure>
  <img src="../../../../assets/images/blog/pipelines-as-code/pipelines-as-code-hero-a3209f2b.jpg" alt="Pipelines As Code" />
</figure>

    </div>

  

  <header class="blog-post-header">
    <h2>What Does Pipelines as Code Really Mean?</h2>
    <h4>Badri Janakiraman and David Rice</h4>
    <p class='tags'>
     </p>
  </header>

  <div class="row">
    <div class="col-md-9">
      <main id="main" role="main">
      
<p>Mirroring the rise of interest in infrastructure as code, there has been a considerable interest in defining builds and pipelines as code. But unlike with infrastructure as code, we see a rise in the assumption that defining pipelines as code requires the use of a full programming language. This assumption puzzles us.</p>

<p>This post will attempt to:</p>

<ul>
  <li>Break down how we got to build and pipelines as code</li>
  <li>Fight the assumption that pipelines as code equates to always configuring pipelines with a general purpose programming language</li>
  <li>Call out that storing pipeline config in your team’s project repository is orthogonal to pipelines as code</li>
</ul>

<h2 id="infrastructure-as-code">Infrastructure as code</h2>

<p>As infrastructure as code is the “as code” movement the majority of us are most familiar with, let’s take a quick look.</p>

<p><a href="https://martinfowler.com/bliki/InfrastructureAsCode.html">Martin Fowler’s bliki</a> tells us that “Infrastructure as code is the approach to defining computing and network infrastructure through source code that can then be treated just like any software system.”  We can keep the code in version control for audit and reproducible builds. As it’s code, we can also test it. Two of the bigger benefits are less stress when rolling out changes as well as reduced mean time to recovery when disaster strikes.</p>

<p>Infrastructure as code is enabled by countless libraries, scripts, and definition files. Configuration is typically via a declarative syntax such as YAML or JSON, a DSL, or a full-fledged programming language such as Ruby. Pick the right tool for the job.</p>

<p>Build as code and pipeline as code would have much the same definition. They are an approach to defining your builds and pipelines in diffable, readable files checked into source control that can then be treated just like any software system.</p>

<h2 id="build-as-code">Build as code</h2>

<p>The first CI server, <a href="https://en.wikipedia.org/wiki/CruiseControl">CruiseControl</a> appeared around 2000/01. Interestingly, CruiseControl fully supported build as code. CruiseControl ran a build by simply calling a specified target in a specified ant file that lived in the project’s source repository. The build was defined in code, an ant build file, and stored in the team’s source repository.</p>

<p>The next generation of CI servers, mostly notably Hudson/Jenkins (pre 2.0), quickly moved away from that style of build definition. They fully owned the build configuration, often allowed editing only via a GUI, and stored it outside the team’s source code.  This caused a number of problems:</p>

<ul>
  <li>Inability to change code and build configuration in lockstep, forcing a lengthy game of whack-a-mole to get the build, the application, and tests in synch.</li>
  <li>Inability to track changes to the build configuration, resulting in non-reproducible builds.</li>
  <li>Inability to make build configuration changes atomically, resulting in unintended build executions and failures.</li>
  <li>In an environment with central build servers, a team was not in control of its own build.</li>
</ul>

<p>In 2011 Travis CI changed things. Travis builds could only be defined in a travis.yml file that lived in your source repository. Developers absolutely loved the travis.yml file. No doubt one reason is that it fixed the above list of problems. But we think it might have as much to do with devops culture and infrastructure as code being in vogue by this time.</p>

<p>Lessons from the Travis model were as follows:</p>

<ul>
  <li>Keep the build configuration for a specific project alongside the code for that project in the same version control system</li>
  <li>Pick an external form for the build configuration that is plain text and is human readable so that the changes could be tracked and diffed much like the changes to any other part of the code.</li>
</ul>

<p>Travis CI mainstreamed build as code. Note that we aren’t talking about utilizing a full programming language yet. Travis CI’s build as code was a YAML file.</p>

<h2 id="pipelines-as-code">Pipelines as code</h2>

<p>Today, we see deployment pipelines and “CI/CD Servers” are mainstream. And pipelines as code requiring a full programming language is the de facto assumption. In fact, Jenkins has clearly set out to own the term “Pipelines as Code,” including popularizing that the configuration of pipelines should only be done via a programming language.</p>

<p>We can understand why equating pipelines as code with configuration via a programming language has happened. Deployment pipelines have more complex workflows. A typical microservice architecture will require many deployment pipelines that are for the most part identical. These are problems that are in fact well-solved by most programming languages. And “Pipelines as Code” makes for some great marketing.</p>

<p>But infrastructure as code doesn’t demand a programming language. Nor should pipelines as code. A CD tool with deployment pipelines really should support the reuse of build and pipeline configuration, parameterization, conditional execution and other common constructs via simple, declarative definitions. We reject the notion that pipelines as code requires writing imperative code.</p>

<h2 id="is-configuring-via-a-general-purpose-language-wrong">Is configuring via a general purpose language wrong?</h2>

<p>No! Absolutely not. We just don’t want it to be the starting point. It brings more complexity. More complexity brings more errors. And in the same way that complex Chef repositories need test-kitchen based unit tests to make sure that they are doing the right thing, a complex and programmed build configuration needs tests itself. <em>Quis custodiet ipsos custodes?</em></p>

<p>GoCD tries very hard to support deployment pipelines in such a way that you only need to declare definitions to define your pipelines. But there are scenarios where GoCD’s limits are hit and then something like <a href="https://github.com/SpringerSBM/gomatic">Gomatic</a>, allowing configuration of pipelines via Python scripts, is useful. As with everything in software, you need to understand the trade-offs and choose the right tools.</p>

<h2 id="storing-build-and-pipeline-config-in-the-main-project-repository">Storing build and pipeline config in the main project repository</h2>

<p>Lastly, there is great confusion between the concept of defining builds and pipelines as code and the concept of storing the configuration in the team’s main repository. While the two are often in play together, they are in fact separate concerns. A pipeline, or set of pipelines, can obviously be defined in code and be stored in version control outside of a team’s repository. And in a scenario where multiple teams are working together but in separate repositories, with many up and downstream dependencies, it’s a good thing for the deployment pipelines to be stored outside the team’s main repositories. This is the scenario where the Travis CI model – everything belongs to the dev team – starts to breaks down.</p>

<p>We believe teams should have choices about how they configure their pipelines. Storing pipeline config in the team’s main project repository is not a requirement of pipelines as code. This is why GoCD supports configuration via a central file, your project repository, or a repository external to your project.</p>

<h2 id="summary">Summary</h2>

<p>It’s great that we all are demanding builds and pipelines as code. Pipelines as code need not always be via a programming language. Don’t awkwardly force your build and pipeline config into your main source repository when it’s not the right thing to do.</p>

<p>We hope this post helped clear up some of the confusion surrounding pipelines as code. Do let us know by commenting below or tweet to us at <a href="https://twitter.com/@david_j_rice">@david_j_rice</a> and <a href="https://twitter.com/@badrij">@badrij</a>.</p>

<div class="row">
  <div class="downloadbanner">
  <div class="container">
    <div class="banner-with-cta">
      <p>Get started with simplifying continuous delivery. Download and use <span class="go">Go</span>CD for free</p>
      <a href="../../../../download/">Download</a>
    </div>
  </div>
</div>

</div>

      </main>
    </div>
    <div class="col-md-3">
      <aside class="post-sidebar">
        <section  class="recent-ariticles">
          <h2 class="section-title">Recent Articles</h2>
          <ol>
            <li>
              <span class="post-date">May  2</span>
              <span class="post-author">Badri Janakiraman and David Rice</span>
              <a href="./">What Does Pipelines as Code Really Mean?</a>
            </li>
            <li>
              <span class="post-date">Apr 25</span>
              <span class="post-author">David Rice, Managing Director - ThoughtWorks Products</span>
              <a href="../../../04/25/gocd-over-jenkins/">Why GoCD over Jenkins</a>
            </li>
            <li>
              <span class="post-date">Apr 17</span>
              <span class="post-author">Aravind S.V, Product Manager at GoCD</span>
              <a href="../../../04/17/build-propagation-using-fan-in-fan-out/">Part 4 - Build Propagation using Fan-in/Fan-out: Modeling Deployment Pipelines</a>
            </li>
            <li>
              <span class="post-date">Apr  6</span>
              <span class="post-author">Aravind S.V, Product Manager at GoCD</span>
              <a href="../../../04/06/reusing-pipelines/">Part 3 - Reusing Pipelines: Modeling Deployment Pipelines</a>
            </li>
            <li>
              <span class="post-date">Mar 29</span>
              <span class="post-author">Aravind S.V, Product Manager at GoCD</span>
              <a href="../../../03/29/beginnings-of-a-real-pipeline/">Part 2 - The beginnings of a real CD pipeline: Modeling Deployment Pipelines</a>
            </li>
            <li>
              <span class="post-date">Mar  1</span>
              <span class="post-author">Aravind S.V, Product Manager at GoCD</span>
              <a href="../../../03/01/importance-and-principles-of-cd-pipelines/">Part 1 - The Importance and Principles of Continuous Delivery Pipelines: Modeling Deployment Pipelines</a>
            </li>
            <li>
              <span class="post-date">Feb 16</span>
              <span class="post-author">Suzie Prince - Product Manager at Snap CI</span>
              <a href="../../../02/16/migrating-snapci-to-gocd/">Migrating from Snap CI to GoCD</a>
            </li>
            <li>
              <span class="post-date">Jan  5</span>
              <span class="post-author">GoCD team</span>
              <a href="../../../01/05/why-we-moved-from-go-cd-to-gocd-io/">Why we've moved from go.cd to gocd.io</a>
            </li>
            <li>
              <span class="post-date">Jul 13</span>
              <span class="post-author">Jason Rowe</span>
              <a href="../../../../2016/07/13/DotNet-Core-and-GoCD/">.NET Core and GoCD</a>
            </li>
            <li>
              <span class="post-date">Jun 21</span>
              <span class="post-author">Jeff Norris</span>
              <a href="../../../../2016/06/21/dont-let-sunk-costs-sink-your-project/">Don't let sunk costs sink your project</a>
            </li>
          </ol>
        </section>
        <section>
          <h2 class="section-title">By Year</h2>
          <ol>
            <li><a href="../../../">2017 (8)</a></li>
            <li><a href="../../../../2016/">2016 (8)</a></li>
            <li><a href="../../../../2015/">2015 (21)</a></li>
            <li><a href="../../../../2014/">2014 (26)</a></li>
          </ol>
        </section>

      </aside>
    </div>
  </div>

  <div class="row">
    <div class="col-md-9">
      <div id="disqus_thread"></div>
      <script>
        var disqus_config = function () {
          /* Careful: Changing the value of page.url and page.identifier might mean you lose comments. */
          this.page.url = "https://www.go.cd/2017/05/02/what-does-pipelines-as-code-really-mean.html";
          this.page.identifier = this.page.url;
          this.shortname = 'gocdblog';
        };
        (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//gocdblog.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>
  </div>
</div>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-571784c91d5449dd"></script>

    <footer>
  <div class="join-community">
    <div class="container">
      <h3>Join our community</h3>
      <ul>
        <li>
          <a href="https://groups.google.com/forum/#!forum/go-cd" target="_blank" analytics-label="google-group">
            <i class="icon fa fa-users fa-4x join-us" aria-hidden="true"></i>
            Join our discussion forum
          </a>
        </li>
        <li>
          <a href="https://gitter.im/gocd/gocd" target="_blank" analytics-label="gitter">
            <i class="icon fa fa-comments fa-4x develop-with-us" aria-hidden="true"></i>
           Chat with us
          </a>
        </li>
        <li>
          <a href="https://github.com/gocd/gocd" target="_blank" analytics-label="github">
            <i class="icon fa fa-github fa-4x watch-us" aria-hidden="true"></i>
            watch us
          </a>
        </li>
        <li>
          <a href="https://twitter.com/goforcd" target="_blank" analytics-label="twitter">
            <i class="icon fa fa-twitter fa-4x follow-us" aria-hidden="true"></i>
            follow us
          </a>
        </li>
        <li>
          <a href="../../../../subscribe/"><i class='icon fa fa-envelope fa-4x subscribe' aria-hidden='true'></i>subscribe</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="page-footer">
    <div class="container">
      <div class="foo-content">
        <h5 class="help-us-improve">Make this place better</h5>
        <a href="http://github.com/gocd" class="social-buttons" analytics-label="link_footer_fork"><i class="fa fa-code-fork" aria-hidden="true" target="_blank"></i> fork</a>
        <a href="https://github.com/gocd/www.go.cd/issues"  class="social-buttons" analytics-label="link_footer_github_issues"> <i class="fa fa-github" aria-hidden="true"></i> suggest</a>
        <p>
          GoCD is an open-source project, sponsored by <a target="_blank" href="http://www.thoughtworks.com" analytics-label="link_footer_thoughtworks">ThoughtWorks Inc.</a>
          under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank" title="Apache 2.0 License">Apache License, Version 2.0</a>
        </p>
      </div>
    </div>
  </div>
</footer>
<a href="#top" class="back-top"><i class="fa fa-arrow-circle-up"></i></a>

    <div class='imagemodal'>
      <div class='imagemodalcontent'>
      </div>
      <div class='close'>&#10006;
      </div>
    </div>

  </body>

  <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5T5PTB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>
// <![CDATA[
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5T5PTB');
// ]]>
</script>
<!-- End Google Tag Manager -->

<!-- Marketo -->
<script type="text/javascript">
document.write(unescape("%3Cscript src='//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script>Munchkin.init('199-QDE-291');</script>
<!-- End Marketo -->

<!-- Twitter universal website tag code -->
<script>
!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
// Insert Twitter Pixel ID and Standard Event data below
twq('init','nw15k');
twq('track','PageView');
</script>
<!-- End Twitter universal website tag code -->

</html>
